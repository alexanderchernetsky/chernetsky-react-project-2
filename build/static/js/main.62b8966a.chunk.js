(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a.p+"static/media/poster1.d1424bdb.png"},21:function(e,t,a){e.exports=a.p+"static/media/poster2.05b740ec.jpg"},22:function(e,t,a){e.exports=a.p+"static/media/poster3.1ec0bd3a.jpg"},25:function(e,t,a){e.exports=a(38)},35:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),s=a.n(c),o=(a(17),a(18),a(30),a(40)),l=a(42),i=a(41),m=a(24),u=a(5),p=a.n(u),d=a(6),v=a(7),g=a(8),h=a(10),f=a(9),E=a(11),b=a(39),y=function(e){return r.a.createElement("header",{className:"app-header"},r.a.createElement("div",{className:"app-header__name-wrapper"},r.a.createElement(b.a,{to:"/",className:"app-header__name mb-2 text-white text-decoration-none"},"Movie Search")),r.a.createElement("form",{onSubmit:e.findMovies},r.a.createElement("label",{htmlFor:"filmName"},"Type the name of the film: "),r.a.createElement("input",{type:"text",name:"filmName"}),r.a.createElement("button",{type:"submit"},"Search")))},N=function(e){return r.a.createElement("div",{className:"card-deck mx-0 d-flex justify-content-around mt-2"},e.movies.map(function(e){return r.a.createElement("div",{className:"card mb-2",key:e.id},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:"poster",className:"card-img-top movie-card"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},e.original_title),r.a.createElement("p",{className:"card-title"},e.release_date,r.a.createElement("span",null," Vote average: ",e.vote_average),r.a.createElement("span",null," Vote count: ",e.vote_count)),r.a.createElement("p",{className:"card-text"},e.overview.length<100?e.overview:e.overview.substr(0,100)+"..."),r.a.createElement("button",{className:"btn btn-primary"},r.a.createElement(b.a,{to:{pathname:"/movie/".concat(e.id)},className:"movie__link"},"More"))))}))},w=function(e){return r.a.createElement("form",{className:"pb-1 text-center"},r.a.createElement("span",null,"Sort by: date"),r.a.createElement("input",{type:"radio",name:"sort",value:"date",onClick:e.setSorting})," ",r.a.createElement("span",null,"vote average"),r.a.createElement("input",{type:"radio",name:"sort",value:"vote_average",onClick:e.setSorting})," ",r.a.createElement("span",null,"no"),r.a.createElement("input",{type:"radio",name:"sort",value:"no",defaultChecked:!0,onClick:e.setSorting}))};var x=function(e){var t=e.results,a=t.total_pages,n=t.page;return r.a.createElement(r.a.Fragment,null,n&&r.a.createElement("p",{className:"pb-1 mb-0 text-center"},a&&1!==n&&r.a.createElement("span",{onClick:function(){return e.changePage(-1)},className:"badge badge-primary"},"previous"),"Page: ",n," from ",a,a&&1!==a&&n!==a&&r.a.createElement("span",{onClick:function(){return e.changePage(1)},className:"badge badge-primary"},"next")))},k=(a(35),"eeb7c73b7cfc09ed59ca3805d5018bd0"),j=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={query:void 0,page:void 0,results:{},sorted:"no"},a.componentDidUpdate=function(){var e=Object(d.a)(p.a.mark(function e(t,n){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.match.params.page!==a.props.match.params.page&&(a.getResults(),setTimeout(a.sortResults,50)),n.sorted!==a.state.sorted&&a.sortResults();case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),a.getResults=Object(d.a)(p.a.mark(function e(){var t,n,r,c,s;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.match.params,n=t.page,r=t.query,!(c=JSON.parse(localStorage.getItem("/search/".concat(r,"/").concat(n))))){e.next=6;break}a.setState({query:r,results:c,page:n}),e.next=11;break;case 6:return e.next=8,fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(k,"&language=en-US&query=").concat(r,"&page=").concat(n,"&include_adult=false")).then(function(e){return e.json()});case 8:s=e.sent,a.setState({query:r,page:n,results:s}),localStorage.setItem("/search/".concat(r,"/").concat(n),JSON.stringify(a.state.results));case 11:case"end":return e.stop()}},e,this)})),a.findMovies=function(){var e=Object(d.a)(p.a.mark(function e(t){var n,r,c,s;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target.filmName.value,r=n.replace(" ","%20"),e.next=5,fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(k,"&language=en-US&query=").concat(r,"&page=1&include_adult=false")).then(function(e){return e.json()});case 5:c=e.sent,s=c.page,a.setState({query:r,page:s,results:c}),a.props.history.push("/search/".concat(r,"/").concat(s)),localStorage.setItem("/search/".concat(r,"/").concat(s),JSON.stringify(a.state.results)),setTimeout(a.sortResults,50);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.changePage=function(){var e=Object(d.a)(p.a.mark(function e(t){var n,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=a.state.results.page+t,r=a.state.query,a.setState({page:n}),a.props.history.push("/search/".concat(r,"/").concat(n));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.setSorting=function(e){a.setState({sorted:e.currentTarget.value})},a.sortResults=function(){var e,t=Object(m.a)({},a.state.results);"vote_average"===a.state.sorted&&(e=t.results.sort(function(e,t){return t.vote_average-e.vote_average}),t.results=e),"no"===a.state.sorted&&(e=t.results.sort(function(e,t){return t.id-e.id}),t.results=e),"date"===a.state.sorted&&(e=t.results.sort(function(e,t){return t.release_date.split("-").join("")-e.release_date.split("-").join("")}),t.results=e),a.setState({results:t})},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.getResults()}},{key:"render",value:function(){var e=this.state.results,t=e.results,a=e.total_results;return r.a.createElement("div",null,r.a.createElement(y,{findMovies:this.findMovies}),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row bg-secondary"},r.a.createElement("div",{className:"col-12 col-md-3 col-xl-4"},a&&r.a.createElement("p",{className:"pb-1 mb-0 text-center"},"Results found: ",a)),r.a.createElement("div",{className:"col-12 col-md-3 col-xl-4"},r.a.createElement(x,{results:this.state.results,changePage:this.changePage})),r.a.createElement("div",{className:"col-12 col-md-6 col-xl-4"},r.a.createElement(w,{setSorting:this.setSorting})))),t&&r.a.createElement(N,{movies:t}))}}]),t}(n.Component),_="eeb7c73b7cfc09ed59ca3805d5018bd0",S=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={movie:void 0},a.componentDidMount=Object(d.a)(p.a.mark(function e(){var t,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params.movieId,e.next=3,fetch("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(_,"&language=en-US")).then(function(e){return e.json()});case 3:n=e.sent,a.setState({movie:n});case 5:case"end":return e.stop()}},e,this)})),a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.state.movie;return r.a.createElement("div",{className:"container"},this.state.movie&&r.a.createElement("div",{className:"jumbotron pt-2"},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:"poster",className:"jumbotron__image rounded mx-auto d-block"}),r.a.createElement("h1",{className:"display-4 text-center"},e.title),r.a.createElement("p",{className:"lead text-center"},e.tagline),r.a.createElement("p",{className:"lead text-center"},"Duration:",e.runtime," min. Release date: ",e.release_date,". Original language: ",e.original_language),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("ul",{className:"list-group"},e.genres.map(function(e,t){return r.a.createElement("li",{className:"list-group-item",key:t},e.name)})),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("p",{className:"text"},"Description: ",e.overview),r.a.createElement("ul",{className:"list-group list-group-horizontal"},e.production_companies.map(function(e){return r.a.createElement("li",{className:"list-group-item mb-0 mx-auto",key:e.id},e.name)})),r.a.createElement("button",{onClick:this.props.history.goBack,className:"btn btn-primary btn-lg mt-3"},"Return Back")))}}]),t}(r.a.Component),O=function(){return r.a.createElement("div",null,"The page doesn't exist!")},C=a(20),R=a.n(C),q=a(21),M=a.n(q),P=a(22),D=a.n(P),T=function(){return r.a.createElement("div",{id:"carouselExampleSlidesOnly",className:"carousel slide","data-ride":"carousel","data-interval":"4000"},r.a.createElement("div",{className:"carousel-inner mx-auto"},r.a.createElement("div",{className:"carousel-item active "},r.a.createElement("img",{src:R.a,className:"d-block w-100",alt:"poster1"})),r.a.createElement("div",{className:"carousel-item"},r.a.createElement("img",{src:M.a,className:"d-block w-100",alt:"poster2"})),r.a.createElement("div",{className:"carousel-item"},r.a.createElement("img",{src:D.a,className:"d-block w-100",alt:"poster3"}))))},I=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).goToSearchPage=function(e){e.preventDefault();var t=e.target.filmName.value;a.props.history.push("/search/".concat(t,"/1"))},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{findMovies:this.goToSearchPage}),r.a.createElement(T,null))}}]),t}(n.Component),J=function(){return r.a.createElement(o.a,null,r.a.createElement(l.a,null,r.a.createElement(i.a,{exact:!0,path:"/",component:I}),r.a.createElement(i.a,{path:"/search/:query/:page",component:j}),r.a.createElement(i.a,{path:"/movie/:movieId",component:S}),r.a.createElement(i.a,{component:O})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,2,1]]]);
//# sourceMappingURL=main.62b8966a.chunk.js.map